{"version":3,"file":null,"sources":["../src/Notification.js","../src/Notifications.js","../src/index.js"],"sourcesContent":["export default {\n  name: 'notification',\n  props: {\n    message: String,\n    icon: String,\n    verticalAlign: {\n      type: String,\n      default: 'top'\n    },\n    horizontalAlign: {\n      type: String,\n      default: 'center'\n    },\n    type: {\n      type: String,\n      default: 'info'\n    },\n    timeout: {\n      type: Number,\n      default: 5000\n    },\n    timestamp:{\n      type: Date,\n      default: ()=>new Date()\n    }\n  },\n  data () {\n    return {\n      elmHeight: 0\n    }\n  },\n  computed: {\n    hasIcon () {\n      return this.icon && this.icon.length > 0\n    },\n    alertType () {\n      return `alert-${this.type}`\n    },\n    customPosition () {\n      let initialMargin = 20\n      let alertHeight = this.elmHeight + 10;\n      let sameAlertsCount = this.$notifications.state.filter((alert) => {\n        return alert.horizontalAlign === this.horizontalAlign && alert.verticalAlign === this.verticalAlign && alert.timestamp < this.timestamp\n      }).length\n      let pixels = (sameAlertsCount - 1) * alertHeight + initialMargin\n      let styles = {}\n      if (this.verticalAlign === 'top') {\n        styles.top = `${pixels}px`\n      } else {\n        styles.bottom = `${pixels}px`\n      }\n      return styles\n    }\n  },\n  methods: {\n    close () {\n      this.$emit('close')\n    }\n  },\n  mounted () {\n    this.elmHeight = this.$el.clientHeight\n    if (this.timeout) {\n      setTimeout(this.close, this.timeout)\n    }\n  },\n  render(){\n    return (\n      <div\n        data-notify=\"container\"\n        class={['col-xs-11 col-sm-4 alert open ',{'alert-with-icon':this.icon}, this.verticalAlign, this.horizontalAlign, this.alertType]}\n        role=\"alert\"\n        style={this.customPosition}\n        data-notify-position=\"top-center\">\n        <button\n          type=\"button\"\n          aria-hidden=\"true\"\n          class=\"close col-xs-1\"\n          data-notify=\"dismiss\"\n          onClick={this.close}>Ã—\n        </button>\n        {\n          this.icon &&  <span data-notify=\"icon\" class={['alert-icon', this.icon]}></span>\n        }\n        <span data-notify=\"message\">\n              {this.message}\n            </span>\n      </div>\n    )\n  }\n}\n","import Notification from './Notification.js'\nexport default {\n  props:{\n    transitionName: {\n      type:String,\n      default:'list'\n    },\n    transitionMode: {\n      type:String,\n      default:'in-out'\n    }\n  },\n  data () {\n    return {\n      notifications: this.$notifications.state\n    }\n  },\n  methods: {\n    removeNotification (index) {\n      this.$notifications.removeNotification(index)\n    }\n  },\n  render(){\n    console.log(\"rendering\")\n    const renderedNotifications = this.$notifications.state.map((notification, index)=>{\n        return  <Notification \n         horizontalAlign={notification.horizontalAlign}\n         verticalAlign={notification.verticalAlign}\n         icon={notification.icon}\n         message={notification.message}\n         timeout={notification.timeout}\n         type={notification.type}\n         key={notification} onClose={() => this.removeNotification(index)}/>\n    }\n    )\n    return (\n      <div class=\"notifications\">\n        <transition-group name={this.transitionName} mode={this.transitionMode}>\n          {renderedNotifications}\n        </transition-group>\n\n      </div>\n    )\n  }\n}\n","import Notifications from './Notifications.js'\n\nconst NotificationStore = {\n  state: [], // here the notifications will be added\n\n  removeNotification (index) {\n    this.state.splice(index, 1)\n  },\n  notify (notification) {\n    notification.timestamp = new Date()\n    this.state.push(notification)\n  }\n}\n\nvar NotificationsPlugin = {\n  install (Vue) {\n    Vue.mixin({\n      data(){\n        return {\n          notificationStore: NotificationStore\n        }\n      },\n      methods:{\n        notify(notification) {\n          this.notificationStore.notify(notification);\n        }\n      }\n    })\n    Object.defineProperty(Vue.prototype, '$notify', {\n      get () {\n        return this.$root.notify\n      }\n    })\n    Object.defineProperty(Vue.prototype, '$notifications', {\n      get () {\n        return this.$root.notificationStore\n      }\n    })\n    Vue.component('Notifications', Notifications)\n  }\n}\n\nexport default NotificationsPlugin\n"],"names":["String","Number","Date","this","icon","length","type","alertHeight","elmHeight","sameAlertsCount","$notifications","state","filter","alert","horizontalAlign","_this","verticalAlign","timestamp","pixels","styles","top","bottom","$emit","$el","clientHeight","timeout","close","h","alert-with-icon","alertType","style","customPosition","data-notify","message","index","removeNotification","log","renderedNotifications","map","notification","class","name","transitionName","mode","transitionMode","NotificationStore","splice","push","Vue","mixin","notificationStore","notify","defineProperty","prototype","$root","component","Notifications"],"mappings":";;;;;sLAAA,aACQ,8BAEKA,YACHA,2BAEEA,eACG,6BAGHA,eACG,qBAGHA,eACG,sBAGHC,eACG,qBAGHC,aACG,iBAAI,IAAIA,0CAKN,uCAKJC,MAAKC,MAAQD,KAAKC,KAAKC,OAAS,uCAGvBF,KAAKG,2CAIjBC,EAAcJ,KAAKK,UAAY,GAC/BC,EAAkBN,KAAKO,eAAeC,MAAMC,OAAO,SAACC,SAC/CA,GAAMC,kBAAoBC,EAAKD,iBAAmBD,EAAMG,gBAAkBD,EAAKC,eAAiBH,EAAMI,UAAYF,EAAKE,YAC7HZ,OACCa,GAAUT,EAAkB,GAAKF,EALjB,GAMhBY,WACuB,QAAvBhB,KAAKa,gBACAI,IAASF,SAETG,OAAYH,OAEdC,mCAKFG,MAAM,mCAIRd,UAAYL,KAAKoB,IAAIC,aACtBrB,KAAKsB,oBACItB,KAAKuB,MAAOvB,KAAKsB,qDAK5BE,+BACc,iBAEP,+BAEgB,qBAHb,kCAAkCC,kBAAkBzB,KAAKC,MAAOD,KAAKa,cAAeb,KAAKW,gBAAiBX,KAAK0B,WAEvHC,MAAO3B,KAAK4B,iBAEZJ,wBACO,uBACO,qBAEA,iBADN,2BAEGxB,KAAKuB,eAGdvB,KAAKC,MAASuB,iBAAMK,cAAY,eAAe,aAAc7B,KAAKC,WAEpEuB,iBAAMK,cAAY,aACX7B,KAAK8B,6CChFTjC,eACG,6BAGHA,eACG,gDAKOG,KAAKO,eAAeC,6CAIjBuB,QACbxB,eAAeyB,mBAAmBD,yDAIjCE,IAAI,gBACNC,GAAwBlC,KAAKO,eAAeC,MAAM2B,IAAI,SAACC,EAAcL,SAC/DP,6BACUY,EAAazB,8BACfyB,EAAavB,mBACtBuB,EAAanC,aACVmC,EAAaN,gBACbM,EAAad,aAChBc,EAAajC,UACdiC,YAAuB,iBAAMxB,GAAKoB,mBAAmBD,kBAI7DP,UAAKa,MAAM,kBACTb,6BAAkBc,KAAMtC,KAAKuC,eAAgBC,KAAMxC,KAAKyC,kBACrDP,QCpCLQ,wCAGgBX,QACbvB,MAAMmC,OAAOZ,EAAO,oBAEnBK,KACOtB,UAAY,GAAIf,WACxBS,MAAMoC,KAAKR,6BAKTS,KACHC,gDAGqBJ,6BAIdN,QACAW,kBAAkBC,OAAOZ,cAI7Ba,eAAeJ,EAAIK,UAAW,gCAE1BlD,MAAKmD,MAAMH,iBAGfC,eAAeJ,EAAIK,UAAW,uCAE1BlD,MAAKmD,MAAMJ,uBAGlBK,UAAU,gBAAiBC"}